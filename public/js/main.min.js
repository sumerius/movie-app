const data={genres:[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}]},genreCodes=[18,10749,14],getGenres=e=>{const a=data.genres;let n=[];return e.map((e=>{a.map((a=>{e==a.id&&n.push(a.name)}))})),n.join(", ")};function goBack(){window.history.back()}console.log("hi");const api_key="f23a624fd8704f7b8261ca835ef4e069",api_url=`https://api.themoviedb.org/3/discover/movie?api_key=${api_key}&include_adult=false&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1`,img_path="https://image.tmdb.org/t/p/w300",search_url=`https://api.themoviedb.org/3/search/movie?api_key=${api_key}&include_adult=false&language=en-US&query=`,trending_url="https://api.themoviedb.org/3/trending/movie/day?api_key="+api_key,img_path_hires="https://image.tmdb.org/t/p/w1280",movie_url="https://api.themoviedb.org/3/movie/",movie_url_options=`?api_key=${api_key}&language=en-US`,marqueeReel=document.querySelector(".marquee-content"),gallery=document.querySelector(".carousel-inner"),galleryThumbnails=document.querySelector(".carousel-indicators"),main=document.querySelector("main"),searchContainerMain=document.querySelector("#search-container-main"),searchForm=document.querySelector(".search-form"),searchInput=document.querySelector(".search-input"),header=document.querySelector("header");async function getTrending(e){const a=await fetch(e);showTrending((await a.json()).results)}function showTrending(e){gallery.innerHTML="",galleryThumbnails.innerHTML="",e.forEach(((e,a)=>{const{title:n,poster_path:t,vote_average:i,backdrop_path:r,overview:s,release_date:o,genre_ids:c,id:l}=e,d=document.createElement("div");d.classList.add("carousel-item"),0===a&&(d.className+=" active"),d.style.backgroundImage=`url("${img_path_hires+r}")`,d.innerHTML=`\n      <div class="fade-overlay"></div>\n      <div class="carousel-caption d-md-block">\n      \x3c!-- <div class="carousel-caption d-none d-md-block"> --\x3e\n        <h2 class="display-4">${n}</h2>\n          <p class="lead overview-header__stats">\n            <span class="carousel-caption-overview">${new Date(o).getFullYear()}</span> \n            <span class="pipe carousel-caption-overview">|</span> \n            <span class="carousel-caption-overview">\n              <i class="${0==i?"":getClassByRate(i).star}"></i> ${0==i?"":i} </span>\n            <span class="pipe carousel-caption-overview">|</span> \n            <span class="carousel-caption-overview">${getGenres(c)}</span>\n          </p>\n        <div class="film-details">\n          <a class="button-container-${a}" href="#"></a>\n          <p class="lead">${s.substring(0,200)}...</p>\n        </div>\n      </div>\n      `,gallery.appendChild(d);const u=document.createElement("button");u.classList.add("btn-custom"),u.className+=" mb-3",u.innerHTML='<i class="fas fa-play"></i> Play',u.addEventListener("click",(function(){fetchMovie(l)})),document.querySelector(".button-container-"+a).appendChild(u);const m=document.createElement("li");m.setAttribute("data-target","#carousel-main"),m.setAttribute("data-slide-to",""+a),m.innerHTML=`\n      <div class="card-dummy">\n        <img src="${img_path+t}">\n      </div>\n    `,marqueeReel.appendChild(m)})),infiniteMarquee()}function getClassByRate(e){return 0==e?{class:"hide"}:e>=7?{class:"green",star:"fas fa-star"}:e>5?{class:"orange",star:"fas fa-star-half"}:{class:"red",star:"far fa-star"}}function infiniteMarquee(){const e=document.documentElement,a=getComputedStyle(e).getPropertyValue("--marquee-elements-displayed"),n=document.querySelector(".marquee-content");e.style.setProperty("--marquee-elements",n.children.length);for(let e=0;e<a;e++)n.appendChild(n.children[e].cloneNode(!0))}getTrending(trending_url),searchForm.addEventListener("submit",(e=>{const a=searchInput.value;e.preventDefault(),a&&(header.innerHTML="",main.innerHTML="",document.querySelector("header").innerHTML="",getMovies(search_url+a),searchInput.value="")})),document.addEventListener("click",(function(e){e.target&&"burger"==e.target.id&&console.log("listener attached to document")})),document.querySelector("main").addEventListener("click",(function(e){"burger"==e.target.id&&console.log("listener attached to <main>")}));
//# sourceMappingURL=main.min.js.map

{"version":3,"sources":["1_variables.js","2_genres.js","3_main.js","4_marquee.js","5_pwmeter.js","7_regvalidate.js","6_security.js"],"names":["console","log","reglink","document","querySelector","loginlink","triggerEl","triggerEl2","tabTrigger","bootstrap","Tab","tabTrigger2","api_key","api_url","img_path","search_url","trending_url","img_path_hires","movie_url","movie_url_options","marqueeReel","gallery","galleryThumbnails","main","section","searchContainerMain","searchForm","searchInput","header","regform","regemail","regpassword","regbutton","emailerr","emailsmall","hideBtns","querySelectorAll","registrationErrors","emailbackend","email","password","recaptcha","data","genres","id","name","genreCodes","getGenres","list","genresarr","map","genre","item","push","join","movieData","getMovieGenres","goBack","window","history","back","async","getTrending","url","response","fetch","showTrending","json","results","getMovies","resp","showMovies","fetchMovie","movieId","watchMovie","films","innerHTML","forEach","film","index","title","poster_path","vote_average","backdrop_path","overview","release_date","genre_ids","filmSlide","createElement","classList","add","className","style","backgroundImage","Date","getFullYear","getClassByRate","star","substring","appendChild","button","addEventListener","filmElement","setAttribute","infiniteMarquee","movies","movie","movieElement","class","rate","toggleShow","element","previousElementSibling","type","innerText","root","documentElement","marqueeElementsDisplayed","getComputedStyle","getPropertyValue","marqueeContent","setProperty","children","length","i","cloneNode","calPasswordStrength","pass","score","letters","Object","variations","digits","test","lower","upper","nonWords","check","variationCount","parseInt","setErrorFor","input","message","formControl","parentElement","setSuccessFor","isEmail","checkEmail","value","toLowerCase","method","headers","Content-Type","body","JSON","stringify","then","res","recaptchaCheck","recaptchaCheckExp","allFalse","obj","e","searchValue","preventDefault","target","show","btn","msg","getElementById","meters","passwordScore","this","backgroundColor","color","emailValue","passValue"],"mappings":"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","file":"main.min.js","sourcesContent":["console.log('connected variables.js');\r\n\r\n// Links to Login and Register tabs in Modal Window\r\nconst reglink = document.querySelector('#register-link');\r\nconst loginlink = document.querySelector('#login-link');\r\n// Modal tabs variables\r\nconst triggerEl = document.querySelector('#myTab a[href=\"#register-tab-page\"]');\r\nconst triggerEl2 = document.querySelector('#myTab a[href=\"#login-tab-page\"]');\r\nconst tabTrigger = new bootstrap.Tab(triggerEl);\r\nconst tabTrigger2 = new bootstrap.Tab(triggerEl2);\r\n\r\n// API variables\r\nconst api_key = 'f23a624fd8704f7b8261ca835ef4e069';\r\nconst api_url = `https://api.themoviedb.org/3/discover/movie?api_key=${api_key}&include_adult=false&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1`;\r\nconst img_path = 'https://image.tmdb.org/t/p/w300';\r\nconst search_url = `https://api.themoviedb.org/3/search/movie?api_key=${api_key}&include_adult=false&language=en-US&query=`;\r\nconst trending_url = `https://api.themoviedb.org/3/trending/movie/day?api_key=${api_key}`;\r\nconst img_path_hires = 'https://image.tmdb.org/t/p/w1280';\r\nconst movie_url = `https://api.themoviedb.org/3/movie/`\r\nconst movie_url_options = `?api_key=${api_key}&language=en-US`;\r\n\r\nconst marqueeReel = document.querySelector('.marquee-content');\r\nconst gallery = document.querySelector('.carousel-inner');\r\nconst galleryThumbnails = document.querySelector('.carousel-indicators');\r\nconst main = document.querySelector('main');\r\nconst section = document.querySelector('section');\r\nconst searchContainerMain = document.querySelector('#search-container-main');\r\nconst searchForm = document.querySelector('.search-form');\r\nconst searchInput = document.querySelector('.search-input');\r\nconst header = document.querySelector('header');\r\n\r\n// Registration form vars\r\nconst regform = document.querySelector('#register-form');\r\nconst regemail = document.querySelector('#reg-email');\r\nconst regpassword = document.querySelector('#reg-password');\r\nconst regbutton = document.querySelector('#btn-register');\r\n\r\n// Email errors from backend validation\r\nconst emailerr = document.querySelector('.email-error');\r\nconst emailsmall = document.querySelector('.email-small');\r\n\r\n// Register form password visibility toggle\r\nconst hideBtns = document.querySelectorAll('.toggle-hide');\r\n\r\n// Registration form Monitor errors\r\nlet registrationErrors = {\r\n  emailbackend: true,\r\n  email: true,\r\n  password: true,\r\n  recaptcha: true\r\n};","console.log('connected genres.js');\r\n\r\nconst data = {\r\n  \"genres\": [\r\n    {\r\n      \"id\": 28,\r\n      \"name\": \"Action\"\r\n    },\r\n    {\r\n      \"id\": 12,\r\n      \"name\": \"Adventure\"\r\n    },\r\n    {\r\n      \"id\": 16,\r\n      \"name\": \"Animation\"\r\n    },\r\n    {\r\n      \"id\": 35,\r\n      \"name\": \"Comedy\"\r\n    },\r\n    {\r\n      \"id\": 80,\r\n      \"name\": \"Crime\"\r\n    },\r\n    {\r\n      \"id\": 99,\r\n      \"name\": \"Documentary\"\r\n    },\r\n    {\r\n      \"id\": 18,\r\n      \"name\": \"Drama\"\r\n    },\r\n    {\r\n      \"id\": 10751,\r\n      \"name\": \"Family\"\r\n    },\r\n    {\r\n      \"id\": 14,\r\n      \"name\": \"Fantasy\"\r\n    },\r\n    {\r\n      \"id\": 36,\r\n      \"name\": \"History\"\r\n    },\r\n    {\r\n      \"id\": 27,\r\n      \"name\": \"Horror\"\r\n    },\r\n    {\r\n      \"id\": 10402,\r\n      \"name\": \"Music\"\r\n    },\r\n    {\r\n      \"id\": 9648,\r\n      \"name\": \"Mystery\"\r\n    },\r\n    {\r\n      \"id\": 10749,\r\n      \"name\": \"Romance\"\r\n    },\r\n    {\r\n      \"id\": 878,\r\n      \"name\": \"Science Fiction\"\r\n    },\r\n    {\r\n      \"id\": 10770,\r\n      \"name\": \"TV Movie\"\r\n    },\r\n    {\r\n      \"id\": 53,\r\n      \"name\": \"Thriller\"\r\n    },\r\n    {\r\n      \"id\": 10752,\r\n      \"name\": \"War\"\r\n    },\r\n    {\r\n      \"id\": 37,\r\n      \"name\": \"Western\"\r\n    }\r\n  ]\r\n}\r\n\r\nconst genreCodes = [18, 10749, 14];\r\n\r\nconst getGenres = (genres) => {\r\n  const list = data.genres;\r\n  let genresarr = [];\r\n  genres.map(genre => {\r\n    list.map(item => {\r\n      if(genre == item.id) {\r\n        genresarr.push(item.name);\r\n      } \r\n    });\r\n  });\r\n  return genresarr.join(', ');\r\n};\r\n\r\n\r\nconst movieData = {\r\n  \"genres\": [\r\n    {\r\n      \"id\": 28,\r\n      \"name\": \"Action\"\r\n    },\r\n    {\r\n      \"id\": 18,\r\n      \"name\": \"Drama\"\r\n    },\r\n    {\r\n      \"id\": 53,\r\n      \"name\": \"Thriller\"\r\n    }\r\n  ],\r\n}\r\n\r\nconst getMovieGenres = (genres) => {\r\n  const list = genres;\r\n  let genresarr = [];\r\n    list.map(item => {\r\n      genresarr.push(item.name);\r\n    });\r\n  return genresarr.join(', ');\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// console.log(getGenres(genreCodes));\r\n// let parsed = JSON.parse(data);","console.log('connected main.js');\r\n\r\n// Go back in browser history\r\nfunction goBack() {\r\n  window.history.back();\r\n}\r\n\r\n// Initiate Data Fetch\r\ngetTrending(trending_url);\r\ngetMovies(api_url);\r\n\r\n// Fetch Trending Movies\r\nasync function getTrending(url) {\r\n  const response = await fetch(url);\r\n  const data = await response.json();\r\n\r\n  showTrending(data.results);\r\n}\r\n\r\n// Fetch Currently Popular Movies\r\nasync function getMovies(url) {\r\n  const resp = await fetch(url);\r\n  const respData = await resp.json();\r\n\r\n  showMovies(respData.results);\r\n}\r\n\r\n// Fetch Movie Details by Id\r\nasync function fetchMovie(movieId) {\r\n  const response = await fetch(movie_url + movieId + movie_url_options);\r\n  const data = await response.json();\r\n\r\n  watchMovie(data);\r\n  console.log(data);\r\n}\r\n\r\nfunction showTrending(films) {\r\n  gallery.innerHTML = '';\r\n  galleryThumbnails.innerHTML = '';\r\n\r\n  films.forEach((film, index) => {\r\n    const { title,\r\n            poster_path,\r\n            vote_average,\r\n            backdrop_path,\r\n            overview,\r\n            release_date,\r\n            genre_ids,\r\n            id\r\n          } = film;\r\n\r\n    const filmSlide = document.createElement('div');\r\n    filmSlide.classList.add('carousel-item');\r\n    index === 0 ? filmSlide.className += \" active\" : '';\r\n    filmSlide.style.backgroundImage = `url(\"${img_path_hires + backdrop_path}\")`;\r\n    \r\n    // Slides output\r\n    filmSlide.innerHTML = `\r\n      <div class=\"fade-overlay\"></div>\r\n      <div class=\"carousel-caption d-md-block\">\r\n      <!-- <div class=\"carousel-caption d-none d-md-block\"> -->\r\n        <h2 class=\"display-4\">${title}</h2>\r\n          <p class=\"lead overview-header__stats\">\r\n            <span class=\"carousel-caption-overview\">${new Date(release_date).getFullYear()}</span> \r\n            <span class=\"pipe carousel-caption-overview\">|</span> \r\n            <span class=\"carousel-caption-overview\">\r\n              <i class=\"${vote_average == 0 ? \"\" : getClassByRate(vote_average).star}\"></i> ${vote_average == 0 ? \"\" : vote_average} </span>\r\n            <span class=\"pipe carousel-caption-overview\">|</span> \r\n            <span class=\"carousel-caption-overview\">${getGenres(genre_ids)}</span>\r\n          </p>\r\n        <div class=\"film-details\">\r\n          <a class=\"button-container-${index}\" href=\"#\"></a>\r\n          <p class=\"lead\">${overview.substring(0, 200)}...</p>\r\n        </div>\r\n      </div>\r\n      `;\r\n      \r\n      gallery.appendChild(filmSlide);\r\n\r\n      // Create a button and attach click event listener\r\n      const button = document.createElement(\"button\");\r\n      button.classList.add('btn-custom');\r\n      button.className += ' mb-3'\r\n      button.innerHTML = '<i class=\"fas fa-play\"></i> Play';\r\n      button.addEventListener('click', function() {\r\n        fetchMovie(id);\r\n      });\r\n      // On each forEach iteration attach the button to an element with \r\n      // a unique id\r\n      document.querySelector(\".button-container-\" + index).appendChild(button);\r\n\r\n    // Icons output\r\n    const filmElement = document.createElement('li');\r\n    // index === 0 ? filmElement.className += \" active\" : '';\r\n    filmElement.setAttribute(\"data-target\", \"#carousel-main\");\r\n    filmElement.setAttribute(\"data-slide-to\", `${index}`);\r\n    filmElement.innerHTML = `\r\n      <div class=\"card-dummy\">\r\n        <img src=\"${img_path + poster_path}\">\r\n      </div>\r\n    `\r\n    marqueeReel.appendChild(filmElement);\r\n  });\r\n\r\n  // Fill marquee space between last and first card \r\n  infiniteMarquee();\r\n}\r\n\r\nfunction showMovies(movies) {\r\n  main.innerHTML = '';\r\n  main.innerHTML = `<div class=\"section-title\">POPULAR NOW<span class=\"section-backlogo\">POPULAR</span></div>`\r\n\r\n  movies.forEach((movie, index) => {\r\n    const { title, \r\n            poster_path,\r\n            vote_average, \r\n            backdrop_path,\r\n            overview,\r\n            release_date,\r\n            genre_ids,\r\n            id\r\n          } = movie;\r\n\r\n    const movieElement = document.createElement('div');\r\n    movieElement.classList.add('movie');\r\n\r\n    movieElement.innerHTML = `\r\n      <div id=\"burger\" class=\"burger\">\r\n        <div class=\"line1\"></div>\r\n        <div class=\"line2\"></div>\r\n        <div class=\"line3\"></div>\r\n      </div>\r\n      \r\n      <div class=\"img-container\">\r\n        <div class=\"img\" style=\"background-image: url('${img_path + poster_path}');\"></div>\r\n        <div class=\"overlay\"></div>\r\n      </div>\r\n      <div class=\"movie-info\">\r\n        <div class=\"overview\">\r\n          <div class=\"overview-header\">\r\n            <h3>${title}</h3>\r\n            <div class=\"overview-header__stats\">\r\n              <span>${new Date(release_date).getFullYear()}</span> \r\n              <span class=\"pipe\">|</span> \r\n              <span class=\"${getClassByRate(vote_average).class}\">\r\n                ${vote_average} <i class=\"${getClassByRate(vote_average).star}\"></i></span>\r\n              <span class=\"pipe\">|</span> \r\n              <span>${getGenres(genre_ids)}</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"overview-body\">\r\n            <p>${overview}</p>\r\n          </div>\r\n          <div class=\"overview-footer\">\r\n          </div>          \r\n        </div>\r\n      </div>\r\n    `\r\n\r\n    // On each forEach iteration attach the button to an element with \r\n    main.appendChild(movieElement);\r\n    movieElement.addEventListener('click', function() {\r\n      fetchMovie(id);\r\n    });\r\n  });\r\n}\r\n\r\nfunction watchMovie(movie) {\r\n  const { \r\n    title, \r\n    poster_path,\r\n    vote_average, \r\n    backdrop_path,\r\n    overview,\r\n    release_date,\r\n    genres\r\n  } = movie;\r\n\r\n  header.innerHTML = '';\r\n  main.innerHTML = '';\r\n  section.innerHTML = `\r\n    <!-- <div class=\"section-title\">Title<span class=\"section-backlogo\">Title</span></div> -->\r\n    <!-- <h1>Title</h1> -->\r\n\r\n\r\n\r\n    <section class=\"watch-movie\">\r\n      <div class=\"watch-movie-bg-decor\">${title}</div>\r\n      <div class=\"watch-movie-bg\"></div>\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-6 col-sm-12 padding-0\">\r\n            <div class=\"movie-glance\">\r\n              <div class=\"film-page_poster\">\r\n                <img class=\"img-fluid\" src=\"${img_path + poster_path}\" alt=\"${title}\" title=\"${title}\"> \r\n              </div>\r\n              <div class=\"movie-info-container\">\r\n                <div class=\"\">\r\n                  <div class=\"film-page_title\">${title}</div>\r\n                  <div class=\"film-page_title-stats\">\r\n                    <span>${new Date(release_date).getFullYear()}</span>\r\n                    <span>|</span>\r\n                    <span> R </span>\r\n                    <span>|</span>\r\n                    <span> 2hr 20min</span>\r\n                  </div>\r\n                </div>\r\n                <div class=\"film-page_rating\">\r\n                  <span class=\"rating-star\"><i class=\"${getClassByRate(vote_average).star}\"></i></span>\r\n                  <span class=\"rating-score ${getClassByRate(vote_average).class}\">${vote_average}</span>\r\n                  <span class=\"reviews\">87 875 <i class=\"fas fa-user-alt\"></i></span>\r\n                </div>\r\n                <div class=\"film-page_genre\">\r\n                  <span>${getMovieGenres(genres)}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"movie-sources\">\r\n              <ul class=\"play-button-group\">\r\n                <li><a href=\"#\" class=\"btn btn-sm btn-secondary wm-btn\">4K <i class=\"fas fa-play\"></i></a></li>\r\n                <li><a href=\"#\" class=\"btn btn-sm btn-secondary wm-btn\">HD <i class=\"fas fa-play\"></i></a></li>\r\n                <li><a href=\"#\" class=\"btn btn-sm btn-secondary wm-btn\">SD <i class=\"fas fa-play\"></i></a></li>\r\n                <li><a href=\"#\" class=\"btn btn-sm btn-secondary wm-btn\">IN THEATERS <i class=\"fas fa-film\"></i></a></li>\r\n              </ul>\r\n            </div>\r\n          </div> \r\n          <div class=\"col-lg-6 col-sm-12\">\r\n            <div class=\"movie-description\">\r\n              <p>${overview}</p>\r\n            </div>  \r\n          </div> \r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"iframe-container\">\r\n            <iframe src=\"https://www.youtube.com/embed/ngWBddVNVZs?autoplay=1&start=13&mute=1\" \r\n            allow=\"autoplay; picture-in-picture;\" frameborder=\"0\" allowfullscreen>\r\n            </iframe>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <section class=\"suggest-movie\">\r\n      <div class=\"container\">\r\n        <div class=\"title\">\r\n          <h4>You Also May Like</h4>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n\r\n    <div class=\"container\" style=\"padding-bottom: 10rem;\">\r\n      <button data-tooltip=\" Tooltip\">Submit Form</button>\r\n    </div>\r\n    \r\n    \r\n  `\r\n}\r\n\r\n// click on #burger will now work\r\n// document.querySelector(\"#burger\").click();\r\n\r\nfunction getClassByRate(rate) {\r\n  if (rate == 0) {\r\n    return {\r\n      class: \"hide\",\r\n    }\r\n  } else if (rate >= 7) {\r\n    return {\r\n      class: \"green\",\r\n      star: \"fas fa-star\"\r\n    }\r\n  } else if (rate > 5) {\r\n    return {\r\n      class: \"orange\",\r\n      star: \"fas fa-star-half\"\r\n    }\r\n  } else {\r\n    return {\r\n      class: \"red\",\r\n      star: \"far fa-star\"\r\n    }\r\n  }\r\n}\r\n\r\nsearchForm.addEventListener('submit', (e) => {\r\n  const searchValue = searchInput.value;\r\n  e.preventDefault();\r\n  \r\n  if (searchValue) {\r\n    header.innerHTML = '';\r\n    main.innerHTML = '';\r\n    document.querySelector('header').innerHTML = '';\r\n    getMovies(search_url + searchValue);\r\n    searchInput.value = '';\r\n  }\r\n});\r\n\r\n// Loop search inputs for value\r\n// searchForms.forEach((form) => {\r\n//   form.addEventListener('submit', (e) => {\r\n//     let searchValue = form.querySelector('.search-input').value;\r\n//     e.preventDefault();\r\n    \r\n//     if (searchValue) {\r\n//       main.innerHTML = '';\r\n//       document.querySelector('header').innerHTML = '';\r\n//       document.querySelector('#search-container-nav').style.visibility = 'unset';\r\n//       getMovies(search_url + searchValue);\r\n//       form.querySelector('.search-input').value = '';\r\n//     }\r\n//   });\r\n// });\r\n\r\n// function onhover() {\r\n//   console.log('hi');\r\n//   document.querySelector('.movie-info').className = 'movie-info-active';\r\n// }\r\n\r\ndocument.addEventListener('click', function(e){\r\n  if(e.target && e.target.id == 'burger'){\r\n    console.log('listener attached to document');\r\n   }\r\n});\r\n\r\n// event added to the #burger parent element\r\ndocument.querySelector(\"main\").addEventListener('click', function(e) {\r\n\tif(e.target.id == 'burger') {\r\n\t\tconsole.log(\"listener attached to <main>\");\r\n\t}\r\n});\r\n\r\n// Modal form links between Login and Register modals\r\nreglink.addEventListener('click', function (e) {\r\n  e.preventDefault()\r\n  tabTrigger.show()\r\n});\r\nloginlink.addEventListener('click', function (e) {\r\n  e.preventDefault()\r\n  tabTrigger2.show()\r\n});\r\n\r\n// Toggle Password Visibility\r\nhideBtns.forEach(btn => {\r\n  btn.addEventListener('click', () => {\r\n    toggleShow(btn);    \r\n  });\r\n});\r\n\r\nfunction toggleShow(element) {\r\n  if (element.previousElementSibling.type === \"password\") {\r\n    element.previousElementSibling.type = \"text\";\r\n    element.className = 'toggle-hide toggle-hide-hide';\r\n    element.innerText = 'HIDE';\r\n  } else {\r\n    element.previousElementSibling.type = \"password\";\r\n    element.className = 'toggle-hide toggle-hide-show';\r\n    element.innerText = 'SHOW';\r\n  }\r\n}\r\n// end toggle password visibility\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// document.addEventListener('click', (e) => {\r\n//   if(e.target && e.target.id == 'movie-link') {\r\n//     console.log('clicked to fetch movie info');\r\n//     fetchMovie(497582);\r\n//   }\r\n// });\r\n\r\n// function clickWatch(index) {\r\n//   document.addEventListener('click', function(e) {\r\n//     if(e.target && e.target.id == 'movie-link') {\r\n//       console.log('clicked from closure ', index);\r\n//     }\r\n//   });\r\n// }\r\n\r\n","console.log('connected marquee.js');\r\n\r\nfunction infiniteMarquee() {\r\n  const root = document.documentElement;\r\n  const marqueeElementsDisplayed = getComputedStyle(root).getPropertyValue('--marquee-elements-displayed');\r\n  const marqueeContent = document.querySelector('.marquee-content');\r\n\r\n  root.style.setProperty(\"--marquee-elements\", marqueeContent.children.length);\r\n\r\n  for (let i = 0; i < marqueeElementsDisplayed; i++) {\r\n    marqueeContent.appendChild(marqueeContent.children[i].cloneNode(true));\r\n  }\r\n}","console.log('connected pwmeter.js');\r\n\r\ndocument.querySelector('#reg-password').addEventListener('keyup', function() {\r\n  const msg = document.getElementById('passwordmessage');\r\n  const meters = document.querySelectorAll('.pwmeter span');\r\n\r\n  // Calculate the strength of the password\r\n  let passwordScore = calPasswordStrength(this.value);\r\n\r\n  // Set the width of the password meter to a multiple of the score\r\n  // meter.style.width = (passwordScore+1) * 1 + 'px';\r\n\r\n  if (passwordScore <= 40) {\r\n    meters[0].style.backgroundColor = 'red';\r\n    meters[0].className = 'meter-span-on';\r\n    meters[1].className = 'meter-span-off';\r\n    meters[2].className = 'meter-span-off';\r\n    msg.style.color = 'red';\r\n    msg.innerHTML = 'Weak password';\r\n  } else if (passwordScore <= 77) {\r\n    meters[1].style.backgroundColor = 'orange';\r\n    meters[1].className = 'meter-span-on';\r\n    meters[2].className = 'meter-span-off';\r\n    msg.style.color = 'orange';\r\n    msg.innerHTML = 'Password is average';\r\n  } else {\r\n    meters[2].style.backgroundColor = 'green';\r\n    meters[2].className = 'meter-span-on';\r\n    msg.style.color = 'green';\r\n    msg.innerHTML = 'Your password is strong';\r\n  }\r\n\r\n  // If input empty, there is no text output\r\n  if (this.value == \"\") {\r\n    meters[0].className = 'meter-span-off';\r\n    meters[1].className = 'meter-span-off';\r\n    meters[2].className = 'meter-span-off';\r\n    msg.innerHTML = '';\r\n  }\r\n});\r\n\r\n// Return password score\r\nfunction calPasswordStrength(pass) {\r\n  var score = 0;\r\n  if (!pass) return score;\r\n\r\n  // award every unique letter until 5 repetitions\r\n  var letters = new Object();\r\n  for (var i=0; i<pass.length; i++) {\r\n    letters[pass[i]] = (letters[pass[i]] || 0) + 1;\r\n    score += 5.0 / letters[pass[i]];\r\n  }\r\n\r\n  // bonus points for mixing it up\r\n  var variations = {\r\n    digits: /\\d/.test(pass),\r\n    lower: /[a-z]/.test(pass),\r\n    upper: /[A-Z]/.test(pass),\r\n    nonWords: /\\W/.test(pass),\r\n  }\r\n\r\n  variationCount = 0;\r\n  for (var check in variations) {\r\n    variationCount += (variations[check] == true) ? 1 : 0;\r\n  }\r\n  score += (variationCount - 1) * 10;\r\n\r\n  return parseInt(score);\r\n}","console.log('connected regvalidate.js');\r\n\r\n// Log Errors status on button click\r\nregbutton.addEventListener('click', () => {\r\n  console.log(registrationErrors);\r\n  console.log(allFalse(registrationErrors));\r\n});\r\n\r\n// Email field error set True on focus in\r\nregemail.addEventListener('focusin', () => {\r\n  registrationErrors.emailbackend = true;\r\n});\r\n\r\n// If errors prevent form submit\r\nregform.addEventListener('submit', (e) => {\r\n  if(!allFalse(registrationErrors)) {\r\n    e.preventDefault();\r\n  }\r\n});\r\n\r\n// Email presence in database validation \r\nregemail.addEventListener('focusout', () => {\r\n  checkEmail();\r\n});\r\n\r\n// Validate email\r\nregemail.addEventListener('keyup', (e) => {\r\n  const emailValue = regemail.value;\r\n      \r\n  if(emailValue === '' || emailValue === null) {\r\n    setErrorFor(regemail, \"Email cannot be blank\");\r\n    registrationErrors.email = true;\r\n  } else if(emailValue.length <=6) {\r\n    setErrorFor(regemail, \"Email too short\");\r\n    registrationErrors.email = true;\r\n  } else if(!isEmail(emailValue)) {\r\n    setErrorFor(regemail, \"Email is not valid\");\r\n    registrationErrors.email = true;\r\n  } else {\r\n    setSuccessFor(regemail);\r\n    registrationErrors.email = false;\r\n  }  \r\n});\r\n\r\n// Validate password\r\nregpassword.addEventListener('keyup', (e) => {\r\n  passValue = regpassword.value;\r\n  \r\n  if(passValue === '' || passValue === null) {\r\n    setErrorFor(regpassword, \"Password cannot be blank\");\r\n    registrationErrors.password = true;\r\n  } else if(passValue.length <= 6) {\r\n    setErrorFor(regpassword, \"Password must be longer than 6 characters\");\r\n    registrationErrors.password = true;\r\n  } else {\r\n    setSuccessFor(regpassword);\r\n    registrationErrors.password = false;\r\n  }\r\n});\r\n\r\n// Output message and style on Successful Validation\r\nfunction setErrorFor(input, message) {\r\n  const formControl = input.parentElement;\r\n  const small = formControl.querySelector('.small');\r\n\r\n  // add error message inside small\r\n  small.innerText = message;\r\n\r\n  // add error class\r\n  formControl.className = 'form-group error';\r\n}\r\n\r\n// Output message and style on Error\r\nfunction setSuccessFor(input) {\r\n  const formControl = input.parentElement;\r\n  formControl.className = 'form-group success';\r\n}\r\n\r\n// Validate email structure\r\nfunction isEmail(email) {\r\n  return /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email);\r\n}\r\n\r\n// Check database for Email presence\r\nfunction checkEmail() {\r\n  let email = document.querySelector('#reg-email').value.toLowerCase();\r\n  \r\n  // send email input value to /usercheck route of the API\r\n  fetch('/usercheck', {\r\n    method: 'post',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email})\r\n  })\r\n  // receive and process response from the API\r\n  .then(res => res.json())\r\n  .then(data => {\r\n    console.log(data);\r\n    if(data.message != 'success'){\r\n      emailsmall.innerHTML = `${data.message}`;\r\n\r\n      const formControl = emailsmall.parentElement;\r\n      formControl.className = 'form-group error';\r\n      registrationErrors.emailbackend = true;\r\n    } else {\r\n      emailerr.innerHTML = '';\r\n      registrationErrors.emailbackend = false;\r\n    }\r\n  });\r\n}\r\n\r\nfunction recaptchaCheck() {\r\n  registrationErrors.recaptcha = false;\r\n}\r\nfunction recaptchaCheckExp() {\r\n  registrationErrors.recaptcha = true;\r\n}\r\n\r\n// Check if all errors cleared\r\nfunction allFalse(obj) {\r\n  for(let item in obj)\r\n    if(obj[item]) return false;\r\n    \r\n  return true;\r\n}","console.log('connected security.js');\r\n\r\n// Google reCaptcha v2 & form\r\n// document.getElementById('register-form').addEventListener('submit', e => {\r\n//   e.preventDefault();\r\n\r\n//   const captcha = document.querySelector('#g-recaptcha-response').value;\r\n//   const email = document.querySelector('#reg-email').value;\r\n//   const password = document.querySelector('#reg-password').value;\r\n  \r\n//   console.log(email);\r\n\r\n//   return fetch('/register', {\r\n//     method: \"POST\",\r\n//     headers: { 'Content-type':'application/json' },\r\n//     body: JSON.stringify({ email, password, captcha })\r\n//   })\r\n//   .then(res => res.json())\r\n//   .then(data => {\r\n//     console.log(data);\r\n//     if(data.success) {\r\n//       console.log('successfully registered');\r\n//       registrationErrors.recaptca = false;\r\n//       return window.location.href = '/';\r\n//     }\r\n//   });\r\n// });"]}
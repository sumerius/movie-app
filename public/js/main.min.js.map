{"version":3,"sources":["genres.js","main.js","marquee.js"],"names":["data","genres","id","name","genreCodes","getGenres","list","genresarr","map","genre","item","push","join","goBack","window","history","back","console","log","api_key","api_url","img_path","search_url","trending_url","img_path_hires","movie_url","movie_url_options","marqueeReel","document","querySelector","gallery","galleryThumbnails","main","searchContainerMain","searchForm","searchInput","header","async","getTrending","url","response","fetch","showTrending","json","results","films","innerHTML","forEach","film","index","title","poster_path","vote_average","backdrop_path","overview","release_date","genre_ids","filmSlide","createElement","classList","add","className","style","backgroundImage","Date","getFullYear","getClassByRate","star","substring","appendChild","button","addEventListener","fetchMovie","filmElement","setAttribute","infiniteMarquee","rate","class","root","documentElement","marqueeElementsDisplayed","getComputedStyle","getPropertyValue","marqueeContent","setProperty","children","length","i","cloneNode","e","searchValue","value","preventDefault","getMovies","target"],"mappings":"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","file":"main.min.js","sourcesContent":["const data = {\r\n  \"genres\": [\r\n    {\r\n      \"id\": 28,\r\n      \"name\": \"Action\"\r\n    },\r\n    {\r\n      \"id\": 12,\r\n      \"name\": \"Adventure\"\r\n    },\r\n    {\r\n      \"id\": 16,\r\n      \"name\": \"Animation\"\r\n    },\r\n    {\r\n      \"id\": 35,\r\n      \"name\": \"Comedy\"\r\n    },\r\n    {\r\n      \"id\": 80,\r\n      \"name\": \"Crime\"\r\n    },\r\n    {\r\n      \"id\": 99,\r\n      \"name\": \"Documentary\"\r\n    },\r\n    {\r\n      \"id\": 18,\r\n      \"name\": \"Drama\"\r\n    },\r\n    {\r\n      \"id\": 10751,\r\n      \"name\": \"Family\"\r\n    },\r\n    {\r\n      \"id\": 14,\r\n      \"name\": \"Fantasy\"\r\n    },\r\n    {\r\n      \"id\": 36,\r\n      \"name\": \"History\"\r\n    },\r\n    {\r\n      \"id\": 27,\r\n      \"name\": \"Horror\"\r\n    },\r\n    {\r\n      \"id\": 10402,\r\n      \"name\": \"Music\"\r\n    },\r\n    {\r\n      \"id\": 9648,\r\n      \"name\": \"Mystery\"\r\n    },\r\n    {\r\n      \"id\": 10749,\r\n      \"name\": \"Romance\"\r\n    },\r\n    {\r\n      \"id\": 878,\r\n      \"name\": \"Science Fiction\"\r\n    },\r\n    {\r\n      \"id\": 10770,\r\n      \"name\": \"TV Movie\"\r\n    },\r\n    {\r\n      \"id\": 53,\r\n      \"name\": \"Thriller\"\r\n    },\r\n    {\r\n      \"id\": 10752,\r\n      \"name\": \"War\"\r\n    },\r\n    {\r\n      \"id\": 37,\r\n      \"name\": \"Western\"\r\n    }\r\n  ]\r\n}\r\n\r\nconst genreCodes = [18, 10749, 14];\r\n\r\nconst getGenres = (genres) => {\r\n  const list = data.genres;\r\n  let genresarr = [];\r\n  genres.map(genre => {\r\n    list.map(item => {\r\n      if(genre == item.id) {\r\n        genresarr.push(item.name);\r\n      } \r\n    });\r\n  });\r\n  return genresarr.join(', ');\r\n};\r\n\r\n// console.log(getGenres(genreCodes));\r\n// let parsed = JSON.parse(data);","console.log('hi');\r\n\r\n// Go back in browser history\r\nfunction goBack() {\r\n  window.history.back();\r\n}\r\n\r\nconst api_key = 'f23a624fd8704f7b8261ca835ef4e069';\r\nconst api_url = `https://api.themoviedb.org/3/discover/movie?api_key=${api_key}&include_adult=false&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1`;\r\nconst img_path = 'https://image.tmdb.org/t/p/w300';\r\nconst search_url = `https://api.themoviedb.org/3/search/movie?api_key=${api_key}&include_adult=false&language=en-US&query=`;\r\nconst trending_url = `https://api.themoviedb.org/3/trending/movie/day?api_key=${api_key}`;\r\nconst img_path_hires = 'https://image.tmdb.org/t/p/w1280';\r\nconst movie_url = `https://api.themoviedb.org/3/movie/`\r\nconst movie_url_options = `?api_key=${api_key}&language=en-US`;\r\n\r\nconst marqueeReel = document.querySelector('.marquee-content');\r\nconst gallery = document.querySelector('.carousel-inner');\r\nconst galleryThumbnails = document.querySelector('.carousel-indicators');\r\nconst main = document.querySelector('main');\r\nconst searchContainerMain = document.querySelector('#search-container-main');\r\nconst searchForm = document.querySelector('.search-form');\r\nconst searchInput = document.querySelector('.search-input');\r\nconst header = document.querySelector('header');\r\n\r\n// Initiate Data Fetch\r\ngetTrending(trending_url);\r\n// getMovies(api_url);\r\n\r\n// Fetch Trending Movies\r\nasync function getTrending(url) {\r\n  const response = await fetch(url);\r\n  const data = await response.json();\r\n\r\n  showTrending(data.results);\r\n}\r\n\r\n// // Fetch Currently Popular Movies\r\n// async function getMovies(url) {\r\n//   const resp = await fetch(url);\r\n//   const respData = await resp.json();\r\n\r\n//   showMovies(respData.results);\r\n// }\r\n\r\n// // Fetch Movie Details by Id\r\n// async function fetchMovie(movieId) {\r\n//   const response = await fetch(movie_url + movieId + movie_url_options);\r\n//   const data = await response.json();\r\n\r\n//   watchMovie(data);\r\n// }\r\n\r\nfunction showTrending(films) {\r\n  gallery.innerHTML = '';\r\n  galleryThumbnails.innerHTML = '';\r\n\r\n  films.forEach((film, index) => {\r\n    const { title,\r\n            poster_path,\r\n            vote_average,\r\n            backdrop_path,\r\n            overview,\r\n            release_date,\r\n            genre_ids,\r\n            id\r\n          } = film;\r\n\r\n    const filmSlide = document.createElement('div');\r\n    filmSlide.classList.add('carousel-item');\r\n    index === 0 ? filmSlide.className += \" active\" : '';\r\n    filmSlide.style.backgroundImage = `url(\"${img_path_hires + backdrop_path}\")`;\r\n    \r\n    // Slides output\r\n    filmSlide.innerHTML = `\r\n      <div class=\"fade-overlay\"></div>\r\n      <div class=\"carousel-caption d-md-block\">\r\n      <!-- <div class=\"carousel-caption d-none d-md-block\"> -->\r\n        <h2 class=\"display-4\">${title}</h2>\r\n          <p class=\"lead overview-header__stats\">\r\n            <span class=\"carousel-caption-overview\">${new Date(release_date).getFullYear()}</span> \r\n            <span class=\"pipe carousel-caption-overview\">|</span> \r\n            <span class=\"carousel-caption-overview\">\r\n              <i class=\"${vote_average == 0 ? \"\" : getClassByRate(vote_average).star}\"></i> ${vote_average == 0 ? \"\" : vote_average} </span>\r\n            <span class=\"pipe carousel-caption-overview\">|</span> \r\n            <span class=\"carousel-caption-overview\">${getGenres(genre_ids)}</span>\r\n          </p>\r\n        <div class=\"film-details\">\r\n          <a class=\"button-container-${index}\" href=\"#\"></a>\r\n          <p class=\"lead\">${overview.substring(0, 200)}...</p>\r\n        </div>\r\n      </div>\r\n      `;\r\n      \r\n      gallery.appendChild(filmSlide);\r\n\r\n      // Create a button and attach click event listener\r\n      const button = document.createElement(\"button\");\r\n      button.classList.add('btn-custom');\r\n      button.className += ' mb-3'\r\n      button.innerHTML = '<i class=\"fas fa-play\"></i> Play';\r\n      button.addEventListener('click', function() {\r\n        fetchMovie(id);\r\n      });\r\n      // On each forEach iteration attach the button to an element with \r\n      // a unique id\r\n      document.querySelector(\".button-container-\" + index).appendChild(button);\r\n\r\n    // Icons output\r\n    const filmElement = document.createElement('li');\r\n    // index === 0 ? filmElement.className += \" active\" : '';\r\n    filmElement.setAttribute(\"data-target\", \"#carousel-main\");\r\n    filmElement.setAttribute(\"data-slide-to\", `${index}`);\r\n    filmElement.innerHTML = `\r\n      <div class=\"card-dummy\">\r\n        <img src=\"${img_path + poster_path}\">\r\n      </div>\r\n    `\r\n    marqueeReel.appendChild(filmElement);\r\n  });\r\n\r\n  // Fill marquee space between last and first card \r\n  infiniteMarquee();\r\n}\r\n\r\n// function showMovies(movies) {\r\n//   main.innerHTML = '';\r\n//   main.innerHTML = `<div class=\"section-title\">POPULAR NOW<span class=\"section-backlogo\">POPULAR</span></div>`\r\n\r\n//   movies.forEach((movie, index) => {\r\n//     const { title, \r\n//             poster_path,\r\n//             vote_average, \r\n//             backdrop_path,\r\n//             overview,\r\n//             release_date,\r\n//             genre_ids,\r\n//             id\r\n//           } = movie;\r\n\r\n//     const movieElement = document.createElement('div');\r\n//     movieElement.classList.add('movie');\r\n\r\n//     movieElement.innerHTML = `\r\n//       <div id=\"burger\" class=\"burger\">\r\n//         <div class=\"line1\"></div>\r\n//         <div class=\"line2\"></div>\r\n//         <div class=\"line3\"></div>\r\n//       </div>\r\n      \r\n//       <div class=\"img-container\">\r\n//         <div class=\"img\" style=\"background-image: url('${img_path + poster_path}');\"></div>\r\n//         <div class=\"overlay\"></div>\r\n//       </div>\r\n//       <div class=\"movie-info\">\r\n//         <div class=\"overview\">\r\n//           <div class=\"overview-header\">\r\n//             <h3>${title}</h3>\r\n//             <div class=\"overview-header__stats\">\r\n//               <span>${new Date(release_date).getFullYear()}</span> \r\n//               <span class=\"pipe\">|</span> \r\n//               <span class=\"${getClassByRate(vote_average).class}\">\r\n//                 ${vote_average} <i class=\"${getClassByRate(vote_average).star}\"></i></span>\r\n//               <span class=\"pipe\">|</span> \r\n//               <span>${getGenres(genre_ids)}</span>\r\n//             </div>\r\n//           </div>\r\n          \r\n//           <div class=\"overview-body\">\r\n//             <p>${overview}</p>\r\n//           </div>\r\n//           <div class=\"overview-footer\">\r\n//           </div>          \r\n//         </div>\r\n//       </div>\r\n//     `\r\n\r\n//     // On each forEach iteration attach the button to an element with \r\n//     main.appendChild(movieElement);\r\n//     movieElement.addEventListener('click', function() {\r\n//       fetchMovie(id);\r\n//     });\r\n//   });\r\n// }\r\n\r\n// function watchMovie(movie) {\r\n//   const { \r\n//     title, \r\n//     poster_path,\r\n//     vote_average, \r\n//     backdrop_path,\r\n//     overview,\r\n//     release_date,\r\n//     genre_ids\r\n//   } = movie;\r\n\r\n//   header.innerHTML = '';\r\n//   main.innerHTML = '';\r\n//   main.innerHTML = `\r\n//     <div class=\"section-title\">${title}<span class=\"section-backlogo\">${title}</span></div>\r\n//     <h1>${title}</h1>\r\n//   `\r\n// }\r\n\r\n// click on #burger will now work\r\n// document.querySelector(\"#burger\").click();\r\n\r\nfunction getClassByRate(rate) {\r\n  if (rate == 0) {\r\n    return {\r\n      class: \"hide\",\r\n    }\r\n  } else if (rate >= 7) {\r\n    return {\r\n      class: \"green\",\r\n      star: \"fas fa-star\"\r\n    }\r\n  } else if (rate > 5) {\r\n    return {\r\n      class: \"orange\",\r\n      star: \"fas fa-star-half\"\r\n    }\r\n  } else {\r\n    return {\r\n      class: \"red\",\r\n      star: \"far fa-star\"\r\n    }\r\n  }\r\n}\r\n\r\nsearchForm.addEventListener('submit', (e) => {\r\n  const searchValue = searchInput.value;\r\n  e.preventDefault();\r\n  \r\n  if (searchValue) {\r\n    header.innerHTML = '';\r\n    main.innerHTML = '';\r\n    document.querySelector('header').innerHTML = '';\r\n    getMovies(search_url + searchValue);\r\n    searchInput.value = '';\r\n  }\r\n});\r\n\r\n// Loop search inputs for value\r\n// searchForms.forEach((form) => {\r\n//   form.addEventListener('submit', (e) => {\r\n//     let searchValue = form.querySelector('.search-input').value;\r\n//     e.preventDefault();\r\n    \r\n//     if (searchValue) {\r\n//       main.innerHTML = '';\r\n//       document.querySelector('header').innerHTML = '';\r\n//       document.querySelector('#search-container-nav').style.visibility = 'unset';\r\n//       getMovies(search_url + searchValue);\r\n//       form.querySelector('.search-input').value = '';\r\n//     }\r\n//   });\r\n// });\r\n\r\n// function onhover() {\r\n//   console.log('hi');\r\n//   document.querySelector('.movie-info').className = 'movie-info-active';\r\n// }\r\n\r\ndocument.addEventListener('click', function(e){\r\n  if(e.target && e.target.id == 'burger'){\r\n    console.log('listener attached to document');\r\n   }\r\n});\r\n\r\n// event added to the #burger parent element\r\ndocument.querySelector(\"main\").addEventListener('click', function(e) {\r\n\tif(e.target.id == 'burger') {\r\n\t\tconsole.log(\"listener attached to <main>\");\r\n\t}\r\n});\r\n\r\n// document.addEventListener('click', (e) => {\r\n//   if(e.target && e.target.id == 'movie-link') {\r\n//     console.log('clicked to fetch movie info');\r\n//     fetchMovie(497582);\r\n//   }\r\n// });\r\n\r\n// function clickWatch(index) {\r\n//   document.addEventListener('click', function(e) {\r\n//     if(e.target && e.target.id == 'movie-link') {\r\n//       console.log('clicked from closure ', index);\r\n//     }\r\n//   });\r\n// }\r\n\r\n","function infiniteMarquee() {\r\n  const root = document.documentElement;\r\n  const marqueeElementsDisplayed = getComputedStyle(root).getPropertyValue('--marquee-elements-displayed');\r\n  const marqueeContent = document.querySelector('.marquee-content');\r\n\r\n  root.style.setProperty(\"--marquee-elements\", marqueeContent.children.length);\r\n\r\n  for (let i = 0; i < marqueeElementsDisplayed; i++) {\r\n    marqueeContent.appendChild(marqueeContent.children[i].cloneNode(true));\r\n  }\r\n}"]}